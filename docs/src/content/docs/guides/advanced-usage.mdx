---
title: Advanced Usage
description: Learn how to fully customize which extensions are added to editors.
---

import "../../../components/languages/js.astro"
import Editor from "../../../components/editor/index.astro"
import "../../../css/editor-theme.css"

The setups are a nice way to get an editor up and running with minimal configuration, but the setups have multiple downsides. If you want to fully customize which extensions are added and which styles are imported, this page will show you how.

## Creating an editor

All the setups are an abstraction over [`createEditor()`](/api-reference/index/f-createeditor) which can be used directly for more control.

<Editor language="javascript" file="index.js" value={`import "prism-code-editor/prism/languages/javascript"
import { createEditor } from "prism-code-editor"
import { matchBrackets } from "prism-code-editor/match-brackets"
import { indentGuides } from "prism-code-editor/guides"

// Importing styles
import "prism-code-editor/layout.css"
import "prism-code-editor/themes/github-dark.css"

export const editor = createEditor(
	"#editor",
	{ language: "javascript" },
	// Initial extensions
	indentGuides(),
	matchBrackets(),
)

import("./extensions")`} />

### Adding extensions

The 3rd argument onward to `createEditor()` are the extensions you want the editor to be initialized with, but you can also add more extensions later with the [`editor.addExtensions()`](/api-reference/index/i-prismeditor#addextensions) method. This makes it possible to import most extensions is a separate entry point for code splitting.

<Editor language="javascript" file="extensions.js" value={`import "prism-code-editor/search.css"
import "prism-code-editor/copy-button.css"
// Adds automatic indentation and comment toggling
import "prism-code-editor/languages/html"
import "prism-code-editor/languages/clike"
import "prism-code-editor/languages/css"

import { searchWidget, highlightSelectionMatches } from "prism-code-editor/search"
import { defaultCommands, editHistory } from "prism-code-editor/commands"
import { cursorPosition } from "prism-code-editor/cursor"
import { copyButton } from "prism-code-editor/copy-button"
import { matchTags } from "prism-code-editor/match-tags"
import { highlightBracketPairs } from "prism-code-editor/highlight-brackets"
import { editor } from "./index"

editor.addExtensions(
	highlightSelectionMatches(),
	searchWidget(),
	defaultCommands(),
	copyButton(),
	matchTags(),
	highlightBracketPairs(),
	cursorPosition(),
	editHistory(),
)`} />

## Utilities

The [`PrismEditor`](/api-reference/index/i-prismeditor) object returned by `createEditor()` has some useful properties and methods, but to keep the core as light as possible, many functions that could've been methods on `PrismEditor` are external functions instead. This includes [`insertText()`](/api-reference/utils/f-inserttext/), [`setSelection()`](/api-reference/utils/f-setselection/), [`getLanguage()`](/api-reference/utils/f-getlanguage/), and [`getClosestToken()`](/api-reference/utils/f-getclosesttoken/)

## Using placeholders

`createEditor()` will append the editor to the your container. If you want more control over where your editor ends up, you can use [`editorFromPlaceholder()`](/api-reference/index/f-editorfromplaceholder) instead. It will replace the placeholder with the new editor. Additionally, the `textContent` of the placeholder will be used as the editor's value unless `options.value` is defined. The placeholder doesn't have to be an element, it can be a `Text` or `Comment` node as well.

### Avoiding layout shifts

Adding editors to your page, can cause layout shifts. If you're using `editorFromPlaceholder()` with placeholders that are the same size as the editor, layout shifts can be avoided. [Working example](https://stackblitz.com/edit/vitejs-vite-sbvab7?file=index.html,src%2Fstyle.css,src%2Fmain.ts,readme.md). If you're using a static site generator, a better solution can be found in the [Server side rendering guide](./server-side-rendering).
