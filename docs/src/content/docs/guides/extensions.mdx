---
title: Extensions
description: Learn which extension you can use and how to create your own.
---

import "../../../components/languages/ts.astro"
import "prism-code-editor/layout.css"
import "prism-code-editor/scrollbar.css"
import "../../../css/editor-theme.css"

One of the key features of this library is that most features are implemented by optional extensions. This is to keep the core light for those who don't need the extra functionality.

## List of Extensions

Non-exhaustive list of extensions you can add:

- [`defaultCommands(){:js}`](/api-reference/commands/f-defaultcommands/) adds many commands expected from an editor.
- [`editHistory(){:js}`](/api-reference/commands/f-edithistory/) overrides the browsers native undo/redo functionality.
- [`matchBrackets(){:js}`](/api-reference/match-brackets/f-matchbrackets/) matches brackets together and allows rainbow brackets.
- [`matchTags(){:js}`](/api-reference/match-tags/f-matchtags/) matches XML tags together and highlights a pair when the cursor is on either tag.
- [`copyButton(){:js}`](/api-reference/copy-button/f-copybutton/) adds a copy button to the editor.
- [`indentGuides(){:js}`](/api-reference/guides/f-indentguides/) adds indentation guides to the editor.
- [`cursorPosition(){:js}`](/api-reference/cursor/f-cursorposition/) can scroll the cursor into view and calculate its position. Used by multiple other extensions.
- [`highlightBracketPairs(){:js}`](/api-reference/highlight-brackets/f-highlightbracketpairs/) highlights a bracket pair when the cursor is between them. Requires `matchBrackets(){:js}`.
- [`searchWidget(){:js}`](/api-reference/search/f-searchwidget/) adds a widget for search and replace.
- [`highlightSelectionMatches(){:js}`](/api-reference/search/f-highlightselectionmatches/) highlights all copies of user selected text.

Later guides will show some of the more sophisticated extensions in more detail.

## Adding Overlays

The [`addOverlay(){:js}`]() utility can be used to add overlays to an editor, which is used by many extensions. Overlays are added to the `.pce-overlays` element and will get styled with `position: absolute{:css}` and `inset: 0{:css}` by default, which will make them the same size as the textarea, including the textarea's padding. Overlays also inherit `pointer-events: none{:css}` and `user-select: none{:css}`.

Without a `z-index`, the overlay will be above the textarea, but beneath the syntax highlighted code. `z-index: -1{:css}` will pull it behind the textarea, while `z-index: 1{:css}` pulls it in front of the code and the cursor. `z-index: 3{:css}` pulls it in front of the line numbers.

## Creating Your Own

```ts editor
import { Extension } from "prism-code-editor"

interface MyExtension extends Extension {}

const myExtension = (): MyExtension => {
	// Add local variables and functions in the closure

	return {
		update(editor, options) {
			// Called when the extension is added to an editor
			// And when the options change
		},
	}
}
```

You can also make a class that implements [`Extension{:js}`](/api-reference/index/i-extension) if that's preferred.

### Using a Plain Function

Plain functions can also be extensions. These functions won't be called again when the editor's options change.

```ts editor
import { BasicExtension, createEditor } from "prism-code-editor"

const myExtension = (): BasicExtension => {
	return (editor, options) => {
		// This won't be called when the options change
	}
}

createEditor("#editor", {}, (editor, options) => {
	// This will be called before the first render
})
```
